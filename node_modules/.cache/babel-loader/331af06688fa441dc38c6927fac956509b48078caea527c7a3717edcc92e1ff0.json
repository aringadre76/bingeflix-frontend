{"ast":null,"code":"// Header.js\nimport React,{useState}from'react';import{NavLink,useLocation}from'react-router-dom';import Search from'./Search';import DropdnAcc from'./Dropdown/Dropdn_Acc';import DropdnSchedule from'./Dropdown/Dropdn_Schedule';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const injectMovie=async(userName,email,moviesList,linkie)=>{const url='http://localhost:4000/injectTest';const data={userName,email,moviesList,linkie};try{const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log(\"result: \"+result);return result;}catch(error){console.error('Error:',error);}};const Header=_ref=>{let{addToWatchlist}=_ref;const[link,setLink]=useState('');// Initialize state for the link\nconst[name,setName]=useState('');// Initialize the title\nconst[showType,setShowType]=useState('');// Add state for showType\nconst[isGoToLinkVisible,setGoToLinkVisible]=useState(true);const[areButtonsVisible,setButtonsVisible]=useState(true);const location=useLocation();const links=[{path:'/home',label:'Home'},{path:'/seasons/construction',label:'Seasons'},{path:'/recommend/construction',label:'Recommendations'},{path:'/sports',label:'Sports'},{path:'/lists/construction',label:'A-Z Lists'},{path:'/under_construction',label:'About'}];const handleAddToWatchlist=()=>{const title=name;const type=showType;const image=\"https://via.placeholder.com/150\";const url=link;console.log('type in header: '+showType);addToWatchlist({title,type,image,url});injectMovie('JohnDoe','johndoe@example.com',[title],url);setButtonsVisible(false);};// Function to handle the link received from the Search component\nconst handleLinkReceived=receivedLink=>{setLink(receivedLink);// Update the link state with the received link\nsetGoToLinkVisible(true);setButtonsVisible(true);};const handleName=receivedName=>{setName(receivedName);};const handleShowTypeReceived=receivedShowType=>{setShowType(receivedShowType);};const handleGoToLinkClick=()=>{window.open(link,'_blank');setGoToLinkVisible(false);};return/*#__PURE__*/_jsx(\"nav\",{className:\"absolute top-0 z-10 w-full bg-transparent p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex items-center justify-between flex-wrap\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/home\",className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"logo.png\",alt:\"Logo\",className:\"h-12 md:h-16 w-auto mr-2 cursor-pointer\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xl md:text-3xl font-semibold\",children:\"BINGEFLIX\"})]}),/*#__PURE__*/_jsx(Search,{onSearchComplete:handleLinkReceived,onSearchTitle:handleName,onSearchShowType:handleShowTypeReceived}),link&&areButtonsVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-0 mr-4 flex space-x-2\",children:[\" \",isGoToLinkVisible&&/*#__PURE__*/_jsx(\"button\",{onClick:handleGoToLinkClick,className:\"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition ease-in duration-200\",children:\"Go to Link\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition ease-in duration-200\",onClick:handleAddToWatchlist,children:\"Add to Watchlist\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[links.map(link=>link.path!==location.pathname&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavLink,{to:link.path,activeClassName:\"active\",className:\"text-white hover:text-gray-400\",children:link.label})},link.path)),/*#__PURE__*/_jsx(DropdnSchedule,{}),/*#__PURE__*/_jsx(DropdnAcc,{})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","NavLink","useLocation","Search","DropdnAcc","DropdnSchedule","jsx","_jsx","jsxs","_jsxs","injectMovie","userName","email","moviesList","linkie","url","data","response","fetch","method","headers","body","JSON","stringify","ok","Error","concat","status","result","json","console","log","error","Header","_ref","addToWatchlist","link","setLink","name","setName","showType","setShowType","isGoToLinkVisible","setGoToLinkVisible","areButtonsVisible","setButtonsVisible","location","links","path","label","handleAddToWatchlist","title","type","image","handleLinkReceived","receivedLink","handleName","receivedName","handleShowTypeReceived","receivedShowType","handleGoToLinkClick","window","open","className","children","href","src","alt","onSearchComplete","onSearchTitle","onSearchShowType","onClick","map","pathname","to","activeClassName"],"sources":["C:/Users/Arin Gadre/OneDrive/Documents/CSE 115A/cse115afinalproject/Front-End/website-front-end/src/components/Header-elem/Header.js"],"sourcesContent":["// Header.js\r\nimport React, { useState } from 'react';\r\n\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport Search from './Search';\r\n\r\nimport DropdnAcc from './Dropdown/Dropdn_Acc';\r\nimport DropdnSchedule from './Dropdown/Dropdn_Schedule';\r\n\r\nconst injectMovie = async (userName, email, moviesList, linkie) => {\r\n    const url = 'http://localhost:4000/injectTest';\r\n    const data = {\r\n      userName,\r\n      email,\r\n      moviesList, \r\n      linkie\r\n    };\r\n  \r\n    try {\r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const result = await response.json();\r\n      console.log(\"result: \"  + result);\r\n      return result;\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n};\r\n\r\nconst Header = ({ addToWatchlist }) => {\r\n    const [link, setLink] = useState('');  // Initialize state for the link\r\n    const [name, setName] = useState(''); // Initialize the title\r\n    const [showType, setShowType] = useState(''); // Add state for showType\r\n    const [isGoToLinkVisible, setGoToLinkVisible] = useState(true);\r\n    const [areButtonsVisible, setButtonsVisible] = useState(true);\r\n    const location = useLocation();\r\n\r\n    \r\n    const links = [\r\n        { path: '/home', label: 'Home' },\r\n        { path: '/seasons/construction', label: 'Seasons' },\r\n        { path: '/recommend/construction', label: 'Recommendations' },\r\n        { path: '/sports', label: 'Sports' },\r\n        { path: '/lists/construction', label: 'A-Z Lists' },\r\n        { path: '/under_construction', label: 'About' }\r\n    ];\r\n  \r\n    const handleAddToWatchlist = () => {\r\n        const title = name;\r\n        const type = showType;\r\n        const image = \"https://via.placeholder.com/150\";\r\n        const url = link;\r\n        console.log('type in header: ' + showType)\r\n        addToWatchlist({ title, type, image, url });\r\n        injectMovie('JohnDoe', 'johndoe@example.com', [title], url);\r\n        setButtonsVisible(false);\r\n    };\r\n\r\n    // Function to handle the link received from the Search component\r\n    const handleLinkReceived = (receivedLink) => {\r\n        setLink(receivedLink);  // Update the link state with the received link\r\n        setGoToLinkVisible(true);\r\n        setButtonsVisible(true);\r\n    };\r\n\r\n    const handleName = (receivedName) => {\r\n        setName(receivedName);\r\n    };\r\n\r\n    const handleShowTypeReceived = (receivedShowType) => {\r\n        setShowType(receivedShowType);\r\n    };\r\n\r\n    const handleGoToLinkClick = () => {\r\n        window.open(link, '_blank');\r\n        setGoToLinkVisible(false);\r\n    };\r\n\r\n    return (\r\n        <nav className=\"absolute top-0 z-10 w-full bg-transparent p-4\">\r\n            <div className=\"container mx-auto flex items-center justify-between flex-wrap\">\r\n                {/* Clickable Website Logo */}\r\n                <a href=\"/home\" className=\"flex items-center\">\r\n                    <img src=\"logo.png\" alt=\"Logo\" className=\"h-12 md:h-16 w-auto mr-2 cursor-pointer\"/>\r\n                    <span className=\"text-white text-xl md:text-3xl font-semibold\">BINGEFLIX</span>\r\n                </a>\r\n\r\n                {/* Search Bar, now with a proper callback for receiving the link */}\r\n                <Search onSearchComplete={handleLinkReceived} onSearchTitle={handleName} onSearchShowType={handleShowTypeReceived} />\r\n\r\n                {/* Display the link as a button if it exists */}\r\n                {link && areButtonsVisible && (\r\n                    <div className=\"flex-grow-0 mr-4 flex space-x-2\"> {/* Added flex and space-x-2 to manage spacing */}\r\n                        {isGoToLinkVisible && (\r\n                            <button\r\n                                onClick={handleGoToLinkClick}\r\n                                className=\"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition ease-in duration-200\"\r\n                            >\r\n                                Go to Link\r\n                            </button>\r\n                        )}\r\n                        \r\n                        <button \r\n                            className=\"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50 transition ease-in duration-200\"\r\n                            onClick={handleAddToWatchlist}\r\n                        >\r\n                            Add to Watchlist\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Menu Items (including 'Popular', etc.) should be wrapped in a flex container */}\r\n                <div className=\"flex items-center space-x-4\">\r\n                {links.map(link => (\r\n                link.path !== location.pathname && (\r\n                    <div key={link.path}>\r\n                    <NavLink to={link.path} activeClassName=\"active\" className=\"text-white hover:text-gray-400\">\r\n                        {link.label}\r\n                    </NavLink>\r\n                    </div>\r\n                )\r\n                ))}\r\n                <DropdnSchedule />\r\n                <DropdnAcc />\r\n\r\n                </div>            \r\n                </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CACvD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAE7B,MAAO,CAAAC,SAAS,KAAM,uBAAuB,CAC7C,MAAO,CAAAC,cAAc,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAOC,QAAQ,CAAEC,KAAK,CAAEC,UAAU,CAAEC,MAAM,GAAK,CAC/D,KAAM,CAAAC,GAAG,CAAG,kCAAkC,CAC9C,KAAM,CAAAC,IAAI,CAAG,CACXL,QAAQ,CACRC,KAAK,CACLC,UAAU,CACVC,MACF,CAAC,CAED,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACH,GAAG,CAAE,CAChCI,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,IAAI,CAC3B,CAAC,CAAC,CAEF,GAAI,CAACC,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,wBAAAC,MAAA,CAAwBT,QAAQ,CAACU,MAAM,CAAE,CAAC,CAC3D,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAX,QAAQ,CAACY,IAAI,CAAC,CAAC,CACpCC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAIH,MAAM,CAAC,CACjC,MAAO,CAAAA,MAAM,CACf,CAAE,MAAOI,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CACJ,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,cAAe,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGrC,QAAQ,CAAC,EAAE,CAAC,CAAG;AACvC,KAAM,CAACsC,IAAI,CAAEC,OAAO,CAAC,CAAGvC,QAAQ,CAAC,EAAE,CAAC,CAAE;AACtC,KAAM,CAACwC,QAAQ,CAAEC,WAAW,CAAC,CAAGzC,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC9C,KAAM,CAAC0C,iBAAiB,CAAEC,kBAAkB,CAAC,CAAG3C,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAAC4C,iBAAiB,CAAEC,iBAAiB,CAAC,CAAG7C,QAAQ,CAAC,IAAI,CAAC,CAC7D,KAAM,CAAA8C,QAAQ,CAAG5C,WAAW,CAAC,CAAC,CAG9B,KAAM,CAAA6C,KAAK,CAAG,CACV,CAAEC,IAAI,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAO,CAAC,CAChC,CAAED,IAAI,CAAE,uBAAuB,CAAEC,KAAK,CAAE,SAAU,CAAC,CACnD,CAAED,IAAI,CAAE,yBAAyB,CAAEC,KAAK,CAAE,iBAAkB,CAAC,CAC7D,CAAED,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,QAAS,CAAC,CACpC,CAAED,IAAI,CAAE,qBAAqB,CAAEC,KAAK,CAAE,WAAY,CAAC,CACnD,CAAED,IAAI,CAAE,qBAAqB,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAClD,CAED,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,KAAK,CAAGb,IAAI,CAClB,KAAM,CAAAc,IAAI,CAAGZ,QAAQ,CACrB,KAAM,CAAAa,KAAK,CAAG,iCAAiC,CAC/C,KAAM,CAAAtC,GAAG,CAAGqB,IAAI,CAChBN,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAGS,QAAQ,CAAC,CAC1CL,cAAc,CAAC,CAAEgB,KAAK,CAAEC,IAAI,CAAEC,KAAK,CAAEtC,GAAI,CAAC,CAAC,CAC3CL,WAAW,CAAC,SAAS,CAAE,qBAAqB,CAAE,CAACyC,KAAK,CAAC,CAAEpC,GAAG,CAAC,CAC3D8B,iBAAiB,CAAC,KAAK,CAAC,CAC5B,CAAC,CAED;AACA,KAAM,CAAAS,kBAAkB,CAAIC,YAAY,EAAK,CACzClB,OAAO,CAACkB,YAAY,CAAC,CAAG;AACxBZ,kBAAkB,CAAC,IAAI,CAAC,CACxBE,iBAAiB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAW,UAAU,CAAIC,YAAY,EAAK,CACjClB,OAAO,CAACkB,YAAY,CAAC,CACzB,CAAC,CAED,KAAM,CAAAC,sBAAsB,CAAIC,gBAAgB,EAAK,CACjDlB,WAAW,CAACkB,gBAAgB,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAC9BC,MAAM,CAACC,IAAI,CAAC1B,IAAI,CAAE,QAAQ,CAAC,CAC3BO,kBAAkB,CAAC,KAAK,CAAC,CAC7B,CAAC,CAED,mBACIpC,IAAA,QAAKwD,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC1DvD,KAAA,QAAKsD,SAAS,CAAC,+DAA+D,CAAAC,QAAA,eAE1EvD,KAAA,MAAGwD,IAAI,CAAC,OAAO,CAACF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACzCzD,IAAA,QAAK2D,GAAG,CAAC,UAAU,CAACC,GAAG,CAAC,MAAM,CAACJ,SAAS,CAAC,yCAAyC,CAAC,CAAC,cACpFxD,IAAA,SAAMwD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EAChF,CAAC,cAGJzD,IAAA,CAACJ,MAAM,EAACiE,gBAAgB,CAAEd,kBAAmB,CAACe,aAAa,CAAEb,UAAW,CAACc,gBAAgB,CAAEZ,sBAAuB,CAAE,CAAC,CAGpHtB,IAAI,EAAIQ,iBAAiB,eACtBnC,KAAA,QAAKsD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAC,GAAC,CAC7CtB,iBAAiB,eACdnC,IAAA,WACIgE,OAAO,CAAEX,mBAAoB,CAC7BG,SAAS,CAAC,8LAA8L,CAAAC,QAAA,CAC3M,YAED,CAAQ,CACX,cAEDzD,IAAA,WACIwD,SAAS,CAAC,8LAA8L,CACxMQ,OAAO,CAAErB,oBAAqB,CAAAc,QAAA,CACjC,kBAED,CAAQ,CAAC,EACR,CACR,cAGDvD,KAAA,QAAKsD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAC3CjB,KAAK,CAACyB,GAAG,CAACpC,IAAI,EACfA,IAAI,CAACY,IAAI,GAAKF,QAAQ,CAAC2B,QAAQ,eAC3BlE,IAAA,QAAAyD,QAAA,cACAzD,IAAA,CAACN,OAAO,EAACyE,EAAE,CAAEtC,IAAI,CAACY,IAAK,CAAC2B,eAAe,CAAC,QAAQ,CAACZ,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CACtF5B,IAAI,CAACa,KAAK,CACN,CAAC,EAHAb,IAAI,CAACY,IAIV,CAER,CAAC,cACFzC,IAAA,CAACF,cAAc,GAAE,CAAC,cAClBE,IAAA,CAACH,SAAS,GAAE,CAAC,EAER,CAAC,EACD,CAAC,CACT,CAAC,CAEd,CAAC,CAED,cAAe,CAAA6B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}