{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const addSport=async(sportName,logo,link)=>{const url='http://localhost:4000/addSport';const data={sport:{// Wrap sportName inside sportsList\nsportName,logo,link}};console.log(\"DATA INSIDE OF addSPORT:\",data);try{const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log(result);return result;}catch(error){console.error('Error:',error);}};const SportsSearch=_ref=>{let{addToWatchlist}=_ref;const[query,setQuery]=useState('');const[result,setResult]=useState(null);const[logo,setLogo]=useState(null);const handleInputChange=e=>{setQuery(e.target.value);};const handleSearch=async e=>{e.preventDefault();const apiKey='AIzaSyA8te_WA4Hitv1gAO_GCcaTQkuWfZjZSoc';const searchEngineId='91375e072088c4407';const secondKey='AIzaSyBv0uxTg2IxLTN-33EYnKD4bO-ANtcSMb8';const secondSearchEngineId='16b30ff74509e4a6f';const newSEID=\"942486b4223714211\";const newSearchAPI=\"AIzaSyD4R1nD6HOBqPK_0e6wsmKkwLaAH4Lsapo\";const searchUrl=\"https://www.googleapis.com/customsearch/v1?key=\".concat(newSearchAPI,\"&cx=\").concat(newSEID,\"&q=espn \").concat(query);const imageSearchUrl=\"https://www.googleapis.com/customsearch/v1?key=\".concat(newSearchAPI,\"&cx=\").concat(newSEID,\"&q=\").concat(query,\" logo&searchType=image\");try{const searchResponse=await fetch(searchUrl);const searchData=await searchResponse.json();const firstResult=searchData.items&&searchData.items[0];const imageResponse=await fetch(imageSearchUrl);const imageData=await imageResponse.json();const firstImage=imageData.items&&imageData.items[0];if(firstResult){setResult(firstResult.link);}else{setResult('No results found');}if(firstImage){setLogo(firstImage.link);}else{setLogo(null);}}catch(error){console.error('Error fetching data: ',error);setResult('An error occurred. Please try again later.');setLogo(null);}};const handleAddToWatchlist=()=>{if(result&&logo){addToWatchlist({teamName:query,link:result,logo});addSport(query,logo,result);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:\"Sports\"}),/*#__PURE__*/_jsx(\"form\",{className:\"w-full max-w-md\",onSubmit:handleSearch,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border-b border-b-2 border-teal-500 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none\",placeholder:\"Enter team name\",value:query,onChange:handleInputChange,onKeyDown:e=>{if(e.key==='Enter'){handleSearch(e);}}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddToWatchlist,className:\"flex-shrink-0 bg-blue-500 hover:bg-blue-700 text-white text-sm py-1 px-2 rounded\",disabled:!result||!logo,children:\"Add to Watchlist\"})]})}),result&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:logo&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"a\",{href:result,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Team Logo\",className:\"w-32 h-32 object-contain\"})})})})]});};export default SportsSearch;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","addSport","sportName","logo","link","url","data","sport","console","log","response","fetch","method","headers","body","JSON","stringify","ok","Error","concat","status","result","json","error","SportsSearch","_ref","addToWatchlist","query","setQuery","setResult","setLogo","handleInputChange","e","target","value","handleSearch","preventDefault","apiKey","searchEngineId","secondKey","secondSearchEngineId","newSEID","newSearchAPI","searchUrl","imageSearchUrl","searchResponse","searchData","firstResult","items","imageResponse","imageData","firstImage","handleAddToWatchlist","teamName","className","children","onSubmit","type","placeholder","onChange","onKeyDown","key","onClick","disabled","href","rel","src","alt"],"sources":["C:/Users/Arin Gadre/OneDrive/Documents/CSE 115A/cse115afinalproject/Front-End/website-front-end/src/components/Home-page/SportsSearch.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst addSport = async (sportName, logo, link) => {\r\n  const url = 'http://localhost:4000/addSport';\r\n  const data = {\r\n    sport: {  // Wrap sportName inside sportsList\r\n      sportName,\r\n      logo,\r\n      link\r\n    }\r\n  };\r\n  console.log(\"DATA INSIDE OF addSPORT:\", data);\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    console.log(result);\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n  }\r\n};\r\n\r\n\r\n\r\nconst SportsSearch = ({ addToWatchlist }) => {\r\n  const [query, setQuery] = useState('');\r\n  const [result, setResult] = useState(null);\r\n  const [logo, setLogo] = useState(null);\r\n\r\n  const handleInputChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const apiKey = 'AIzaSyA8te_WA4Hitv1gAO_GCcaTQkuWfZjZSoc';\r\n    const searchEngineId = '91375e072088c4407';\r\n    const secondKey = 'AIzaSyBv0uxTg2IxLTN-33EYnKD4bO-ANtcSMb8';\r\n    const secondSearchEngineId = '16b30ff74509e4a6f';\r\n    const newSEID = \"942486b4223714211\"\r\n    const newSearchAPI = \"AIzaSyD4R1nD6HOBqPK_0e6wsmKkwLaAH4Lsapo\"\r\n    const searchUrl = `https://www.googleapis.com/customsearch/v1?key=${newSearchAPI}&cx=${newSEID}&q=espn ${query}`;\r\n    const imageSearchUrl = `https://www.googleapis.com/customsearch/v1?key=${newSearchAPI}&cx=${newSEID}&q=${query} logo&searchType=image`;\r\n\r\n    try {\r\n      const searchResponse = await fetch(searchUrl);\r\n      const searchData = await searchResponse.json();\r\n      const firstResult = searchData.items && searchData.items[0];\r\n\r\n      const imageResponse = await fetch(imageSearchUrl);\r\n      const imageData = await imageResponse.json();\r\n      const firstImage = imageData.items && imageData.items[0];\r\n\r\n      if (firstResult) {\r\n        setResult(firstResult.link);\r\n      } else {\r\n        setResult('No results found');\r\n      }\r\n\r\n      if (firstImage) {\r\n        setLogo(firstImage.link);\r\n      } else {\r\n        setLogo(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching data: ', error);\r\n      setResult('An error occurred. Please try again later.');\r\n      setLogo(null);\r\n    }\r\n  };\r\n\r\n  const handleAddToWatchlist = () => {\r\n    if (result && logo) {\r\n      addToWatchlist({ teamName: query, link: result, logo });\r\n      addSport(query, logo, result);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4\">\r\n      <p className=\"text-xl font-bold\">Sports</p>\r\n      <form className=\"w-full max-w-md\" onSubmit={handleSearch}>\r\n        <div className=\"flex items-center border-b border-b-2 border-teal-500 py-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none\"\r\n            placeholder=\"Enter team name\"\r\n            value={query}\r\n            onChange={handleInputChange}\r\n            onKeyDown={(e) => {\r\n              if (e.key === 'Enter') {\r\n                handleSearch(e);\r\n              }\r\n            }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleAddToWatchlist}\r\n            className=\"flex-shrink-0 bg-blue-500 hover:bg-blue-700 text-white text-sm py-1 px-2 rounded\"\r\n            disabled={!result || !logo}\r\n          >\r\n            Add to Watchlist\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {result && (\r\n        <div className=\"mt-4\">\r\n          {logo && (\r\n            <div className=\"mt-4\">\r\n              <a href={result} target=\"_blank\" rel=\"noreferrer\">\r\n                <img src={logo} alt=\"Team Logo\" className=\"w-32 h-32 object-contain\" />\r\n              </a>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SportsSearch;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}