{"ast":null,"code":"import React,{useState,useEffect}from'react';import SportsSearch from'./SportsSearch';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getUserSports=async()=>{console.log(\"Get user sports called\");const url='http://localhost:4000/getUserSports';try{const response=await fetch(url,{method:'GET',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log(\"GET USER SPORTS RESULTS: \",result);if(result.success){console.log(\"Sports List in USERSPROTS:\",result.sportsList);return result.sportsList;// Process the sports list as needed, for example:\n// displaySportsList(result.sportsList);\n}else{console.error('Failed to retrieve sports:',result.message);}}catch(error){console.error('Error:',error);}};const removeSport=async(teamName,logo,link)=>{console.log(\"REMOVE SPORT:\",teamName);console.log(\"REMOVE SPORT:\",logo);console.log(\"REMOVE SPORT:\",link);const url='http://localhost:4000/removeSport';const data={sportTitle:teamName};try{const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log(result);return result;}catch(error){console.error('Error:',error);}};const SportsPage=()=>{const[watchlist,setWatchlist]=useState([]);useEffect(()=>{getUserSports().then(async sports=>{console.log(\"FIRST\");console.log(\"SPORTS IS in useEffect: \",sports);if(Array.isArray(sports)){console.log(\"SECOND\");const updatedSports=await Promise.all(sports.map(async sport=>{// const { link, logo } = await handleSearch(sport.teamName);\nreturn{teamName:sport.teamName,link:sport.link,logo:sport.logo};}));setWatchlist(updatedSports);}else{console.error('Expected movies to be an array, received:',sports);}});},[]);const addToWatchlist=item=>{setWatchlist(prevWatchlist=>[...prevWatchlist,item]);};const deleteItem=index=>{setWatchlist(prevWatchlist=>prevWatchlist.filter((_,i)=>i!==index));console.log(\"DELETE ITEM: \",watchlist[index].teamName);removeSport(watchlist[index].teamName,watchlist[index].logo,watchlist[index].link);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(SportsSearch,{addToWatchlist:addToWatchlist}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Watchlist\"}),watchlist.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Your watchlist is empty.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\",children:watchlist.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center p-4 bg-white shadow-md rounded-lg relative\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.link,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:item.logo,alt:\"Team Logo\",className:\"w-32 h-32 object-contain\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteItem(index),className:\"absolute top-2 right-2 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full\",children:\"\\xD7\"})]},index))})]})]});};export default SportsPage;","map":{"version":3,"names":["React","useState","useEffect","SportsSearch","jsx","_jsx","jsxs","_jsxs","getUserSports","console","log","url","response","fetch","method","headers","ok","Error","concat","status","result","json","success","sportsList","error","message","removeSport","teamName","logo","link","data","sportTitle","body","JSON","stringify","SportsPage","watchlist","setWatchlist","then","sports","Array","isArray","updatedSports","Promise","all","map","sport","addToWatchlist","item","prevWatchlist","deleteItem","index","filter","_","i","className","children","length","href","target","rel","src","alt","onClick"],"sources":["C:/Users/Arin Gadre/OneDrive/Documents/CSE 115A/cse115afinalproject/Front-End/website-front-end/src/components/Home-page/SportsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport SportsSearch from './SportsSearch';\r\n\r\nconst getUserSports = async () => {\r\n  console.log(\"Get user sports called\");\r\n\r\n  const url = 'http://localhost:4000/getUserSports';\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    console.log(\"GET USER SPORTS RESULTS: \", result);\r\n\r\n    if (result.success) {\r\n      console.log(\"Sports List in USERSPROTS:\", result.sportsList);\r\n      return result.sportsList\r\n      // Process the sports list as needed, for example:\r\n      // displaySportsList(result.sportsList);\r\n    } else {\r\n      console.error('Failed to retrieve sports:', result.message);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n  }\r\n};\r\n\r\nconst removeSport = async (teamName, logo, link) => {\r\n  console.log(\"REMOVE SPORT:\", teamName );\r\n  console.log(\"REMOVE SPORT:\", logo );\r\n  console.log(\"REMOVE SPORT:\", link );\r\n\r\n  const url = 'http://localhost:4000/removeSport';\r\n  const data = {\r\n      sportTitle: teamName\r\n  };\r\n\r\n  try {\r\n      const response = await fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(data)\r\n      });\r\n\r\n      if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(result);\r\n      return result;\r\n  } catch (error) {\r\n      console.error('Error:', error);\r\n  }\r\n};\r\n\r\n\r\nconst SportsPage = () => {\r\n  const [watchlist, setWatchlist] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getUserSports().then(async sports => {\r\n        console.log(\"FIRST\");\r\n        console.log(\"SPORTS IS in useEffect: \", sports);\r\n        if (Array.isArray(sports)) {\r\n            console.log(\"SECOND\");\r\n            const updatedSports = await Promise.all(\r\n              sports.map(async (sport) => {\r\n                // const { link, logo } = await handleSearch(sport.teamName);\r\n                return { teamName: sport.teamName, link: sport.link, logo: sport.logo };\r\n              })\r\n            );\r\n    \r\n            setWatchlist(updatedSports);\r\n        } else {\r\n            console.error('Expected movies to be an array, received:', sports);\r\n        }\r\n    });\r\n  }, []);\r\n\r\n  const addToWatchlist = (item) => {\r\n    setWatchlist((prevWatchlist) => [...prevWatchlist, item]);\r\n\r\n  };\r\n\r\n  const deleteItem = (index) => {\r\n    setWatchlist((prevWatchlist) => prevWatchlist.filter((_, i) => i !== index));\r\n    console.log(\"DELETE ITEM: \", watchlist[index].teamName);\r\n    removeSport(watchlist[index].teamName, watchlist[index].logo, watchlist[index].link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      \r\n      <SportsSearch addToWatchlist={addToWatchlist} />\r\n      <div className=\"mt-8\">\r\n        <h2 className=\"text-2xl font-bold\">Watchlist</h2>\r\n        {watchlist.length === 0 ? (\r\n          <p className=\"text-gray-500\">Your watchlist is empty.</p>\r\n          \r\n        ) : (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n            {watchlist.map((item, index) => (\r\n              <div key={index} className=\"flex flex-col items-center p-4 bg-white shadow-md rounded-lg relative\">\r\n                <a href={item.link} target=\"_blank\" rel=\"noreferrer\">\r\n                  <img src={item.logo} alt=\"Team Logo\" className=\"w-32 h-32 object-contain\" />\r\n                </a>\r\n                <button\r\n                  onClick={() => deleteItem(index)}\r\n                  className=\"absolute top-2 right-2 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full\"\r\n                >\r\n                  &times;\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SportsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}